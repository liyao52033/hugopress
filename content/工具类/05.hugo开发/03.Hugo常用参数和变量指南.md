---
title: Hugo常用参数和变量指南
description: 本文详细讲解了Hugo模板中常用的参数、变量和函数，重点介绍了.Site、.Page、.Params等核心对象的属性和方法，并通过代码示例展示了如何在项目中应用这些功能。文章还总结了参数命名、默认值设置、安全性和性能优化等最佳实践，提供了调试技巧和常见问题解决方案。总体上，本文帮助读者掌握Hugo模板系统的强大功能，提升网站开发效率和质量。
weight: 520
type: docs
icon: code
date: 2025-12-18 21:26:40
url: /pages/886ceb
tags: ["hugo"]
categories:
  - 工具类
  - hugo开发
author:
  name: liyao
  link: https://xiaoying.org.cn
---


## 核心对象概述

Hugo模板系统提供了几个核心对象，用于访问网站的各种信息和配置：

- `.Site` - 网站全局信息和配置
- `.Page` - 当前页面的信息和属性
- `.Params` - 页面或网站的参数
- `.File` - 当前文件的信息
- `.Scratch` - 临时数据存储

## `.Site` 对象

### 基本属性

```go
<!-- 网站基本信息 -->
{{ .Site.Title }}              <!-- 网站标题 -->
{{ .Site.BaseURL }}            <!-- 网站基础URL -->
{{ .Site.LanguageCode }}       <!-- 网站语言代码 -->
{{ .Site.Language.Lang }}      <!-- 当前语言 -->
{{ .Site.LanguagePrefix }}     <!-- 语言前缀 -->
{{ .Site.Copyright }}          <!-- 版权信息 -->
{{ .Site.LastChange }}          <!-- 最后修改时间 -->
{{ .Site.BuildDrafts }}         <!-- 是否构建草稿 -->
{{ .Site.IsMultiLingual }}      <!-- 是否多语言网站 -->

<!-- 网站配置信息 -->
{{ .Site.Params }}             <!-- 网站级参数 -->
{{ .Site.Menus }}               <!-- 网站菜单 -->
{{ .Site.Taxonomies }}          <!-- 分类法 -->
{{ .Site.Data }}                <!-- 数据文件内容 -->
```

### 常用方法

```go
<!-- 获取页面 -->
{{ .Site.GetPage "section" "posts" }}     <!-- 获取特定分区 -->
{{ .Site.GetPage "home" }}                 <!-- 获取首页 -->
{{ .Site.GetPage "/about/" }}              <!-- 获取特定路径页面 -->

<!-- 获取资源 -->
{{ $resource := .Site.Resources.GetMatch "*.css" }}  <!-- 匹配资源 -->
{{ $images := .Site.Resources.ByType "image" }}     <!-- 按类型获取资源 -->

<!-- 获取菜单 -->
{{ $menu := .Site.Menus.main }}            <!-- 获取主菜单 -->
{{ $menuItem := .Site.Menus.main 0 }}       <!-- 获取菜单项 -->
```

### 项目中的应用示例

```go
<!-- 获取网站配置的作者信息 -->
{{ $author := .Site.Params.author }}
{{ $authorName := $author.name }}
{{ $authorEmail := $author.email }}

<!-- 获取网站社交媒体链接 -->
{{ range $key, $value := .Site.Params.social }}
  <a href="{{ $value }}" class="social-link">{{ $key }}</a>
{{ end }}

<!-- 获取网站多语言信息 -->
{{ range .Site.Languages }}
  <a href="{{ .Lang | relLangURL }}">{{ .LanguageName }}</a>
{{ end }}
```

## `.Page` 对象

### 基本属性

```go
<!-- 页面基本信息 -->
{{ .Page.Title }}              <!-- 页面标题 -->
{{ .Page.Content }}            <!-- 页面内容 -->
{{ .Page.Summary }}            <!-- 页面摘要 -->
{{ .Page.Description }}         <!-- 页面描述 -->
{{ .Page.Date }}               <!-- 页面日期 -->
{{ .Page.Lastmod }}             <!-- 最后修改时间 -->
{{ .Page.ExpiryDate }}          <!-- 过期时间 -->
{{ .Page.PublishDate }}         <!-- 发布日期 -->
{{ .Page.Weight }}              <!-- 权重 -->
{{ .Page.Type }}                <!-- 类型 -->
{{ .Page.Kind }}                <!-- 种类 -->
{{ .Page.Section }}             <!-- 分区 -->
{{ .Page.Slug }}                <!-- URL别名 -->
{{ .Page.URL }}                 <!-- 页面URL -->
{{ .Page.RelPermalink }}        <!-- 相对永久链接 -->
{{ .Page.RelRef }}              <!-- 相对引用 -->

<!-- 页面状态 -->
{{ .Page.Draft }}               <!-- 是否为草稿 -->
{{ .Page.IsHome }}              <!-- 是否为首页 -->
{{ .Page.IsPage }}              <!-- 是否为普通页面 -->
{{ .Page.IsSection }}           <!-- 是否为分区页面 -->
{{ .Page.IsNode }}              <!-- 是否为节点 -->
{{ .Page.IsMenu }}              <!-- 是否在菜单中 -->
```

### 内容相关属性

```go
<!-- 字数统计 -->
{{ .Page.WordCount }}           <!-- 字数 -->
{{ .Page.ReadingTime }}         <!-- 预计阅读时间（分钟） -->
{{ .Page.FuzzyWordCount }}      <!-- 模糊字数 -->
{{ .Page.Len }}                 <!-- 内容长度 -->

<!-- 目录和导航 -->
{{ .Page.TableOfContents }}     <!-- 目录 -->
{{ .Page.Next }}                <!-- 下一页 -->
{{ .Page.Prev }}                <!-- 上一页 -->
{{ .Page.First }}               <!-- 第一页 -->
{{ .Page.Last }}                <!-- 最后一页 -->
{{ .Page.NextInSection }}       <!-- 分区内下一页 -->
{{ .Page.PrevInSection }}       <!-- 分区内上一页 -->
```

### 页面参数

```go
<!-- 获取页面参数 -->
{{ .Page.Params.author }}       <!-- 页面作者 -->
{{ .Page.Params.tags }}         <!-- 页面标签 -->
{{ .Page.Params.categories }}   <!-- 页面分类 -->
{{ .Page.Params.featuredImage }} <!-- 特色图片 -->
{{ .Page.Params.showToc }}      <!-- 是否显示目录 -->

<!-- 检查参数是否存在 -->
{{ if .Page.Params.showAuthor }}
  <div class="author">{{ .Page.Params.author }}</div>
{{ end }}

<!-- 使用默认值 -->
{{ $author := .Page.Params.author | default .Site.Params.author }}
```

## `.Params` 对象

### 参数层级

Hugo中的参数有层级结构，优先级从高到低：

1. 页面前置数据中的参数
2. 分区配置中的参数
3. 语言配置中的参数
4. 网站配置中的参数

### 获取参数的方法

```go
<!-- 直接获取 -->
{{ .Params.author }}

<!-- 使用默认值 -->
{{ .Params.author | default "默认作者" }}

<!-- 嵌套参数 -->
{{ .Params.social.twitter }}
{{ .Params.social.github }}

<!-- 数组参数 -->
{{ range .Params.tags }}
  <span class="tag">{{ . }}</span>
{{ end }}

<!-- 布尔参数 -->
{{ if .Params.featured }}
  <div class="featured">特色内容</div>
{{ end }}
```

### 项目中的参数使用示例

```go
<!-- 获取页面配置的布局选项 -->
{{ $layout := .Params.layout | default "default" }}
<div class="layout-{{ $layout }}">
  {{ .Content }}
</div>

<!-- 获取颜色主题配置 -->
{{ $theme := .Params.theme | default .Site.Params.theme | default "light" }}
<body class="theme-{{ $theme }}">

<!-- 获取多语言配置 -->
{{ $title := .Params.title | default .Title }}
<h1>{{ $title }}</h1>
```

## 常用函数和方法

### 字符串处理

```go
{{ upper "hello" }}              <!-- 转大写 -->
{{ lower "WORLD" }}              <!-- 转小写 -->
{{ title "hello world" }}        <!-- 标题格式 -->
{{ truncate "long text" 10 }}    <!-- 截断 -->
{{ replace "hello world" "world" "hugo" }}  <!-- 替换 -->
{{ substr "hello world" 0 5 }}   <!-- 子字符串 -->
{{ trim "  hello  " }}           <!-- 去除首尾空格 -->
{{ safeHTML "<b>bold</b>" }}     <!-- 安全HTML -->
{{ safeCSS "color: red;" }}      <!-- 安全CSS -->
{{ safeJS "alert('hello');" }}   <!-- 安全JS -->
```

### 数值计算

```go
{{ add 1 2 }}                    <!-- 加法 -->
{{ sub 5 2 }}                    <!-- 减法 -->
{{ mul 3 4 }}                    <!-- 乘法 -->
{{ div 10 2 }}                   <!-- 除法 -->
{{ mod 7 3 }}                    <!-- 取模 -->
{{ ceil 3.2 }}                   <!-- 向上取整 -->
{{ floor 3.8 }}                  <!-- 向下取整 -->
{{ round 3.5 }}                  <!-- 四舍五入 -->
```

### 日期时间

```go
{{ now.Format "2006-01-02" }}    <!-- 当前日期 -->
{{ .Date.Format "2006-01-02" }}  <!-- 格式化日期 -->
{{ .Date.Format "January 2, 2006" }}  <!-- 完整日期格式 -->
{{ .Date.Format "15:04:05" }}    <!-- 时间格式 -->
{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}  <!-- ISO格式 -->
{{ time "2023-01-01" }}          <!-- 创建时间对象 -->
{{ time.Parse "2006-01-02" "2023-01-01" }}  <!-- 解析时间字符串 -->
```

### 条件判断

```go
<!-- 基本条件 -->
{{ if .Params.featured }}
  特色内容
{{ else }}
  普通内容
{{ end }}

<!-- 多条件 -->
{{ if and .Params.featured (eq .Section "posts") }}
  特色文章
{{ end }}

{{ if or .Params.draft (not .Date) }}
  未发布内容
{{ end }}

<!-- 条件表达式 -->
{{ $class := cond .Params.featured "featured" "regular" }}
<div class="{{ $class }}">内容</div>

<!-- 比较操作 -->
{{ if eq .Section "posts" }}      <!-- 等于 -->
{{ if ne .Section "posts" }}      <!-- 不等于 -->
{{ if gt .WordCount 1000 }}       <!-- 大于 -->
{{ if ge .WordCount 1000 }}       <!-- 大于等于 -->
{{ if lt .WordCount 1000 }}       <!-- 小于 -->
{{ if le .WordCount 1000 }}       <!-- 小于等于 -->
```

### 循环和迭代

```go
<!-- 基本循环 -->
{{ range .Params.tags }}
  <span class="tag">{{ . }}</span>
{{ end }}

<!-- 带索引的循环 -->
{{ range $index, $tag := .Params.tags }}
  <span class="tag-{{ $index }}">{{ $tag }}</span>
{{ end }}

<!-- 限制循环次数 -->
{{ range first 5 .Site.RegularPages }}
  <article>{{ .Title }}</article>
{{ end }}

<!-- 条件过滤 -->
{{ range where .Site.RegularPages "Section" "posts" }}
  <article>{{ .Title }}</article>
{{ end }}

<!-- 排序 -->
{{ range sort .Site.RegularPages "Date" "desc" }}
  <article>{{ .Title }} - {{ .Date }}</article>
{{ end }}

<!-- 分组 -->
{{ range $key, $value := .Site.RegularPages.GroupBy "Section" }}
  <h2>{{ $key }}</h2>
  {{ range $value }}
    <article>{{ .Title }}</article>
  {{ end }}
{{ end }}
```

## 资源处理

### 获取资源

```go
<!-- 获取单个资源 -->
{{ $image := resources.Get "images/hero.jpg" }}

<!-- 获取匹配的资源 -->
{{ $images := resources.GetMatch "images/*.jpg" }}

<!-- 按类型获取资源 -->
{{ $css := resources.ByType "css" }}
{{ $js := resources.ByType "js" }}
{{ $images := resources.ByType "image" }}
```

### 资源处理链

```go
<!-- 图片处理 -->
{{ $image := resources.Get "images/hero.jpg" }}
{{ $resized := $image.Resize "800x600" }}
{{ $cropped := $image.Fill "300x300 center" }}
{{ $filtered := $image.Filter (images.Grayscale) }}

<!-- CSS处理 -->
{{ $css := resources.Get "styles/main.css" }}
{{ $minified := $css | resources.Minify }}
{{ $fingerprinted := $minified | resources.Fingerprint }}

<!-- JS处理 -->
{{ $js := resources.Get "scripts/main.js" }}
{{ $bundled := $js | resources.Minify | resources.Fingerprint }}
```

## 项目中的实际应用

### 页面元数据生成

```go
<!-- 生成页面元数据 -->
<title>{{ .Title }} - {{ .Site.Title }}</title>
<meta name="description" content="{{ .Description | default .Summary }}">
<meta name="author" content="{{ .Params.author | default .Site.Params.author }}">
<meta name="keywords" content="{{ delimit .Params.tags ", " }}">
<meta name="date" content="{{ .Date.Format "2006-01-02" }}">
```

### 导航菜单生成

```go
<!-- 主导航菜单 -->
<nav class="main-menu">
  {{ range .Site.Menus.main }}
    <a href="{{ .URL }}" class="menu-item{{ if $.IsMenuCurrent "main" . }} active{{ end }}">
      {{ .Pre }} {{ .Name }} {{ .Post }}
    </a>
  {{ end }}
</nav>

<!-- 面包屑导航 -->
<nav class="breadcrumb">
  <a href="{{ .Site.BaseURL }}">首页</a>
  {{ range .Ancestors.Reverse }}
    <a href="{{ .Permalink }}">{{ .Title }}</a>
  {{ end }}
  <span>{{ .Title }}</span>
</nav>
```

### 文章列表和分页

```go
<!-- 文章列表 -->
{{ $paginator := .Paginate (where .Site.RegularPages "Type" "posts") }}
{{ range $paginator.Pages }}
  <article class="post">
    <h2><a href="{{ .Permalink }}">{{ .Title }}</a></h2>
    <div class="meta">
      <span class="date">{{ .Date.Format "2006-01-02" }}</span>
      <span class="author">{{ .Params.author }}</span>
      <span class="reading-time">{{ .ReadingTime }}分钟阅读</span>
    </div>
    <div class="summary">{{ .Summary }}</div>
    <div class="tags">
      {{ range .Params.tags }}
        <span class="tag">{{ . }}</span>
      {{ end }}
    </div>
  </article>
{{ end }}

<!-- 分页导航 -->
<nav class="pagination">
  {{ if $paginator.HasPrev }}
    <a href="{{ $paginator.Prev.URL }}" class="prev">上一页</a>
  {{ end }}
  {{ if $paginator.HasNext }}
    <a href="{{ $paginator.Next.URL }}" class="next">下一页</a>
  {{ end }}
</nav>
```

### SEO优化

```go
<!-- 结构化数据 -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "{{ if .IsHome }}WebSite{{ else }}Article{{ end }}",
  "name": "{{ .Title }}",
  "description": "{{ .Description | default .Summary }}",
  "url": "{{ .Permalink }}",
  "datePublished": "{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}",
  "dateModified": "{{ .Lastmod.Format "2006-01-02T15:04:05Z07:00" }}",
  "author": {
    "@type": "Person",
    "name": "{{ .Params.author | default .Site.Params.author }}"
  },
  "publisher": {
    "@type": "Organization",
    "name": "{{ .Site.Title }}",
    "logo": {
      "@type": "ImageObject",
      "url": "{{ .Site.Params.logo | absURL }}"
    }
  }{{ if not .IsHome }},
  "image": "{{ .Params.featuredImage | absURL }}",
  "headline": "{{ .Title }}",
  "wordCount": {{ .WordCount }}
  {{ end }}
}
</script>

<!-- Open Graph -->
<meta property="og:title" content="{{ .Title }}">
<meta property="og:description" content="{{ .Description | default .Summary }}">
<meta property="og:url" content="{{ .Permalink }}">
<meta property="og:type" content="{{ if .IsHome }}website{{ else }}article{{ end }}">
<meta property="og:site_name" content="{{ .Site.Title }}">
{{ if .Params.featuredImage }}
<meta property="og:image" content="{{ .Params.featuredImage | absURL }}">
{{ end }}

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{{ .Title }}">
<meta name="twitter:description" content="{{ .Description | default .Summary }}">
{{ if .Params.featuredImage }}
<meta name="twitter:image" content="{{ .Params.featuredImage | absURL }}">
{{ end }}
{{ if .Site.Params.social.twitter }}
<meta name="twitter:site" content="@{{ .Site.Params.social.twitter }}">
{{ end }}
```

## 最佳实践

### 参数命名规范

```go
<!-- 使用有意义的参数名 -->
{{ .Params.featuredImage }}      <!-- 而不是 .Params.img -->
{{ .Params.showTableOfContents }}  <!-- 而不是 .Params.toc -->
{{ .Params.enableComments }}     <!-- 而不是 .Params.comments -->
```

### 默认值处理

```go
<!-- 始终提供合理的默认值 -->
{{ $author := .Params.author | default .Site.Params.author | default "匿名作者" }}
{{ $theme := .Params.theme | default .Site.Params.theme | default "light" }}
{{ $layout := .Params.layout | default "single" }}
```

### 安全性考虑

```go
<!-- 对用户输入进行安全处理 -->
{{ .Params.customHTML | safeHTML }}    <!-- 仅当确信内容安全时使用 -->
{{ .Params.customJS | safeJS }}         <!-- 仅当确信脚本安全时使用 -->
{{ .Params.customCSS | safeCSS }}       <!-- 仅当确信样式安全时使用 -->

<!-- 避免直接输出用户输入 -->
{{ .Params.userInput }}                 <!-- 安全但可能显示原始HTML -->
{{ .Params.userInput | safeHTML }}      <!-- 不安全，除非确信内容安全 -->
{{ .Params.userInput | htmlEscape }}    <!-- 转义HTML字符 -->
```

### 性能优化

```go
<!-- 使用Scratch存储计算结果 -->
{{ $scratch := .Scratch }}
{{ $scratch.Set "processedData" (complexCalculation .Params.data) }}
{{ $scratch.Get "processedData" }}

<!-- 避免重复计算 -->
{{ $featuredPosts := where .Site.RegularPages "Params.featured" true }}
{{ range $featuredPosts }}
  <!-- 使用已筛选的结果 -->
{{ end }}
```

## 调试技巧

### 输出变量值

```go
<!-- 调试输出 -->
<pre>{{ printf "%#v" .Params }}</pre>
<pre>{{ printf "%#v" .Site }}</pre>
<pre>{{ printf "%#v" . }}</pre>
```

### 条件调试

```go
<!-- 调试条件 -->
{{ if .Params.debug }}
  <div class="debug-info">
    <p>页面类型: {{ .Kind }}</p>
    <p>页面分区: {{ .Section }}</p>
    <p>页面类型: {{ .Type }}</p>
    <p>是否为首页: {{ .IsHome }}</p>
  </div>
{{ end }}
```

### 使用Hugo内置调试

```go
<!-- 查看可用变量 -->
{{ hugo.Generator }}
{{ hugo.BuildDate }}
{{ hugo.Version }}
```

## 常见问题与解决方案

### 参数未定义错误

```go
<!-- 问题：直接访问可能不存在的参数 -->
{{ .Params.nonexistent }}  <!-- 可能导致错误 -->

<!-- 解决方案：使用默认值或条件检查 -->
{{ .Params.nonexistent | default "默认值" }}
{{ if isset .Params "nonexistent" }}
  {{ .Params.nonexistent }}
{{ end }}
```

### 多语言参数处理

```go
<!-- 获取当前语言的参数 -->
{{ .Site.Params.title }}                    <!-- 当前语言 -->
{{ .Site.Language.Params.title }}            <!-- 当前语言 -->
{{ index .Site.Params (.Site.Language.Lang) "title" }}  <!-- 指定语言 -->
```

### 复杂数据结构处理

```go
<!-- 处理嵌套的参数结构 -->
{{ $social := .Params.social | default dict }}
{{ $twitter := $social.twitter | default "" }}
{{ $github := $social.github | default "" }}

<!-- 或者使用with -->
{{ with .Params.social }}
  <a href="{{ .twitter }}">Twitter</a>
  <a href="{{ .github }}">GitHub</a>
{{ end }}
```

## 总结

Hugo的参数和变量系统提供了强大的模板功能，通过合理使用`.Site`、`.Params`等核心对象，可以构建灵活且功能丰富的网站模板。在实际开发中，建议：

1. 合理规划参数结构，保持命名一致性
2. 始终提供合理的默认值
3. 注意安全性，避免直接输出用户输入
4. 优化性能，避免重复计算
5. 使用调试技巧解决模板问题

通过掌握这些常用参数和变量的用法，可以充分发挥Hugo模板系统的强大功能，构建出高效、灵活的网站。