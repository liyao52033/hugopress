<div class="mt-3 mb-3 d-flex flex-wrap align-items-center" style="min-height: 60px;">
  {{ $sectionTitle := .sectionTitle }}
  {{ $site := .Site }}
  {{ if not $sectionTitle }}
    <div class="text-danger">未传入sectionTitle参数</div>
    {{ return }}
  {{ end }}

  {{ $hero := index $site.Data.landing $sectionTitle }}
  {{ if not $hero }}
    <div class="text-danger">未找到 data/landing 中 {{ $sectionTitle }} 的配置</div>
    {{ return }}
  {{ end }}

  {{ $ctaButtons := .hero.buttons | default slice }}
  {{ range $index, $btn := $ctaButtons }}
    {{/* 提前定义默认样式，避免动态拼接延迟 */}}
    {{ $baseClasses := "btn btn-lg mt-2 d-inline-flex align-items-center justify-content-center" }}
    {{ $variant := .btnClass | default "primary" }}
    {{ $variantClass := printf "btn-%s" $variant }}
    {{ $spacingClass := "me-2 mb-2" }} <!-- 新增mb-2适配换行场景 -->
    {{ if eq $index (sub (len $ctaButtons) 1) }}
      {{ $spacingClass = "mb-2" }}
    {{ end }}

    <a 
      href="{{ if strings.HasPrefix .url "http" }}{{ .url }}{{ else }}{{ relLangURL .url }}{{ end }}" 
      class="{{ $baseClasses }} {{ $variantClass }} {{ $spacingClass }}"
      {{/* 固定最小宽度 + 内联样式兜底，避免渲染初期宽度突变 */}}
      style="min-width: 140px;"
      {{ if strings.HasPrefix .url "http" }}
        target="_blank" 
        rel="noopener noreferrer"
      {{ end }}
    >
      {{ with .icon }}
        {{/* 图标稳定对齐：固定尺寸 + 垂直对齐 */}}
        <span class="material-icons align-middle d-inline-block" style="font-size: 1.2rem; margin-right: 0.4rem; vertical-align: middle;">{{ . }}</span>
      {{ end }}
      {{ with .btnText }}
        <span style="vertical-align: middle;">{{ . }}</span>
      {{ end }}
    </a>
  {{ end }}
</div>